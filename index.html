<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Page title</title><link rel="stylesheet" href="/cinema/index.f7cb4e4d.css"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet"></head><body> <div class="wrapper"> <header> <section class="home"> <h1 class="hidden">films</h1> <div class="container home-container"> <div class="header"> <a href="./" class="logo"> <svg width="20" height="20"> <use xlink:href="/cinema/sprite.3b2919f2.svg#logo"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <nav> <ul class="nav"> <li class="nav-list"><a href="./" class="active nav-link">HOME</a></li> <li class="nav-list"><a href="/cinema/library.html" class="nav-link">MY LIBRARY</a></li> </ul> </nav> </div> <form class="search"> <label class="search-label"> <input type="text" class="search-input" name="search"> <button type="submit" class="search-svg"> <svg width="12" height="12"> <use xlink:href="/cinema/sprite.3b2919f2.svg#search"></use> </svg> </button> </label> <p class="search-error"></p> </form> </div> </section> </header> <main> </main> <footer> <p>&#169; | All Rights Reserved |&nbsp;</p> <p> <spam>Developed with</spam> <svg width="14" height="12"> <use xlink:href="/cinema/sprite.3b2919f2.svg#heart"></use> </svg> <spam>by GoIT Students</spam> </p> </footer> </div> <div class="backdrop" id="backdrop-modals"></div> <script>!function(){class t{constructor({total_pages:t,page:e=1,piece:s=3}={}){this.totalPages=t,this.piece=s,this.page=e,this.key="ef54c316f166b2a5913791e8b3f63a4a",this.renderPages(this.page),this.addEventListeners()}quantityPages(){return 0===this.totalPages?0:this.totalPages<this.piece?this.totalPages:this.piece}pages(t){return`\n      <li class="page ${this.page===t?"active":""}" data-page-index="${t}">${t}</li>\n    `}initPages(t){return new Array(this.quantityPages()).fill(0).map(((e,s)=>this.pages(s+t))).join("")}getTempLate(t){return`\n      <div class="paginationList">\n      <button type="button" data-element="prev" class="prev"></button>\n      <ul class="page-list">\n        ${this.initPages(t)}\n      </ul>\n      <button type="button" data-element="next" class="next"></button>\n      </div>\n    `}renderPages(t){const e=document.createElement("div");if(t>1&&t<this.totalPages)return e.innerHTML=this.getTempLate(t-1),void(this.element=e.firstElementChild);e.innerHTML=this.getTempLate(t),this.element=e.firstElementChild}setPage(t=1){const e=document.querySelector(".page.active");e&&e.classList.remove("active");document.querySelector(`[data-page-index="${t}"]`).classList.add("active"),this.dispatchEvent(t),this.page=t}nextPage(){this.page>this.totalPages-1||(this.page+=1,this.setPage(this.page))}prevPage(){1!==this.page&&(this.page-=1,this.setPage(this.page))}addEventListeners(){const[t,e,s]=['[data-element="prev"]','[data-element="next"]',".page-list"].map((t=>this.element.querySelector(t)));t.addEventListener("click",(()=>{this.prevPage()})),e.addEventListener("click",(()=>{this.nextPage()})),s.addEventListener("click",(t=>{const e=t.target.closest(".page"),s=t.target.closest(".page.active");if(!e)return;if(s)return;const n=e.dataset.pageIndex;this.setPage(Number(n))}))}dispatchEvent(t){const e=new CustomEvent("page-change",{detail:t}),s=document.querySelector("header");window.scrollTo({top:s.getBoundingClientRect().height,behavior:"smooth"}),this.page=e,this.element.dispatchEvent(e)}}var e=defaultRequest={key:"ef54c316f166b2a5913791e8b3f63a4a",searchData:"",time:"/day",search:"trending",async getData(t=1){const e=`https://api.themoviedb.org/3/${this.search}/movie${this.time}?api_key=${this.key}&query=${this.searchData}&page=${t}&include_adult=false&language=uk`,s=await fetch(e,{headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM"}});return await s.json()},get query(){return this.searchData},set query(t){this.searchData=t,this.time="",this.search="search"}};class s{constructor(t=[]){this.state=t,this.myRender()}renderCard(){return this.state.map((t=>` \n          <div class="films" data-atrebut-info="${t.id}">\n            <img src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}">\n            <h2 class="title-film">${t.title}<br>\n              <p class="second-title">| ${t.release_date.slice(0,4)}</p>\n            </h2>\n          </div>\n        \n    `)).join("")}myRender(){const t=document.createElement("div");t.innerHTML=this.renderCard(),this.element=t}}var n=aboutFilmFetch={key:"ef54c316f166b2a5913791e8b3f63a4a",async getData(t){const e=`https://api.themoviedb.org/3/movie/${t}?language=uk`,s=await fetch(e,{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM"}});return await s.json()}};function a(t){return t.findIndex((t=>t.id===this.id))}async function i(t,e){if("watched"===e){const e=await n.getData(t),s=localStorage.getItem("idFilmsWatched");if(s){const t=JSON.parse(s);return void(-1===a(t)&&(t.push(e),localStorage.setItem("idFilmsWatched",JSON.stringify(t))))}localStorage.setItem("idFilmsWatched",JSON.stringify([e]))}if("queue"===e){const e=await n.getData(t),s=localStorage.getItem("idFilmsQueue");if(s){const t=JSON.parse(s);return void(-1===a(t)&&(t.push(e),localStorage.setItem("idFilmsQueue",JSON.stringify(t))))}localStorage.setItem("idFilmsQueue",JSON.stringify([e]))}}async function o(t){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",s=document.getElementById("backdrop-modals"),a=await async function(t){const e=await n.getData(t),{poster_path:s,vote_count:a,vote_average:i,title:o,original_title:c,popularity:r,overview:d,genres:l,id:h}=e;return`\n    <div class="modal">\n      <button tupe="button" class="close">\n          <span class="top"></span> \n          <span class="bottom"></span>\n      </button>\n      <div class="card-film">\n        <img class="card-img" src="https://image.tmdb.org/t/p/w500${s}" alt="${o}">\n        <div class="fistful">\n          <h2 class="title-film">${o}</h2>\n          <div class="rating">\n            <div class="firste-title">Vote/Votes\n              <p class="detail">\n                <span class="vote">${i}</span> /\n                <span">${a}</span>\n              </p>\n            </div>\n            <p class="firste-title">Popularity<span class="detail">${r}</span></p>\n            <p class="firste-title">Original Title<span class="detail">${c}</span></p>\n            <p class="firste-title">Genre<span class="detail">${(()=>{let t=[];for(const e of l)t.push(e.name);return t.join(", ")})()}</span></p>\n          </div>\n          <div class="about-film">\n            <h3>Про кіно</h3>\n            <p class="about-text">\n              ${d}\n            </p>\n          </div>\n          <div class="add-film">\n            <button type="button" class="add-watched" id="watched" data-id="${h}">додати до переглянутих</button>\n            <button type="button" class="add-queue" id="queue" data-id="${h}">до черги перегляду</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    `}(t);if(0===s.children.length){if(s.insertAdjacentHTML("afterbegin",a),!s.classList.contains("is-open")){s.classList.add("is-open");const t=document.querySelector("body");t.classList.add("is-hidden"),t.style.paddingRight=e}if(s.children.length>0){document.getElementById("backdrop-modals").firstElementChild.clientHeight<window.innerHeight&&(s.style.paddingRight=e)}}}var c=modal={eventListeners(){document.addEventListener("click",(t=>{const e=document.getElementById("backdrop-modals");if(t.target.closest(".films")&&o(t.target.parentNode.dataset.atrebutInfo),t.target.closest(".close")||"backdrop-modals"===t.target.id){const t=document.querySelector("body");e.classList.contains("is-open")&&(setTimeout((()=>{e.innerHTML="",e.classList.remove("overflow-hidden")}),250),e.classList.remove("is-open"),e.classList.add("overflow-hidden"),t.classList.remove("is-hidden"),t.style.paddingRight=0)}i(t.target.dataset.id,t.target.id)}))}};new class{constructor(){this.components={},this.result={},this.initComponents(1),this.render(),c.eventListeners(),this.initFetchSubmit(1)}async initFetchSubmit(t){document.querySelector(".search").addEventListener("submit",(async s=>{s.preventDefault(),e.query=s.target.elements.search.value.trim(),this.initComponents(t)}))}async initFetch(t){const s=await e.getData(t);this.result=s;const{total_pages:n}=s;return this.totalPages=n,s}render(){const t=document.querySelector("main");t.innerHTML=this.getTemplate(),this.element=t}async initComponents(e){const n=await this.initFetch(e);if(!n.results.length){return void(document.querySelector("main").innerHTML='<h2 class="not_found">Не знайдено</h2>')}const a=new s(n.results),i=new t(n);this.components.card=a,this.components.pagination=i,this.renderComponentsPage(),this.renderComponentsCard(),this.dispatchEvent()}renderComponentsPage(){const t=document.querySelector(".pagination");t.innerHTML="",t.append(...this.components.pagination.element.children)}renderComponentsCard(){const t=document.querySelector(".cards-js");t.innerHTML="",t.append(...this.components.card.element.children)}upDataPage(e){const s=new t({total_pages:this.totalPages,page:e,piece:3});this.components.pagination=s,this.renderComponentsPage()}async upData(t){const e=await this.initFetch(t),n=new s(e.results);this.components.card=n,this.renderComponentsCard()}dispatchEvent(){this.components.pagination.element.addEventListener("page-change",(t=>{const e=Number(t.detail);this.upData(e),this.upDataPage(e),this.dispatchEvent()}))}getTemplate(){return'<section class="cards">\n    <div class="container">\n      <div class="list-films cards-js"></div>\n    </div>\n  </section>\n  <section>\n    <div class="container">\n      <div class="pagination">\n        <h2 class="hiden">pagination</h2>\n      </div>\n    </div>\n  </section>'}}}();</script> </body></html>